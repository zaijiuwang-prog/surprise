<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>æ–°å¹´å¿«ä¹ ğŸ†</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html, body {
  margin:0; padding:0; background:#000; overflow:hidden;
  font-family:"PingFang SC","Microsoft YaHei",sans-serif; text-align:center;
}
canvas { position:fixed; top:0; left:0; z-index:1; }
.blessing {
  position:fixed; top:36%; width:100%; z-index:3; color:#fff;
  font-size:1.55em; line-height:2; text-shadow:0 0 14px rgba(255,255,255,.9);
  transition:opacity 2s ease;
}
.container {
  position:relative; z-index:4; max-width:720px; margin:0 auto;
  padding:40px 20px 60px; background:linear-gradient(180deg,#fff6f0,#fff);
  opacity:0; transform:translateY(50px); transition:all 2.5s ease;
}
.container.show { opacity:1; transform:translateY(0); }
h1 { color:#e26a6a; font-size:2.1em; }
.message {
  background:#fff; padding:26px; border-radius:16px; box-shadow:0 6px 22px rgba(0,0,0,.1);
  font-size:1.15em; line-height:1.9;
}
.photo img { width:100%; max-width:640px; margin-top:30px; border-radius:18px; box-shadow:0 12px 30px rgba(0,0,0,.18); }
.footer { margin-top:40px; font-size:.9em; color:#777; }
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="blessing" id="blessing">
  ğŸ‰ äºæœ¦èƒ§ç¥å¤§å®¶ ğŸ‰<br>
  æ–°å¹´å¿«ä¹ï¼<br>
  é©¬å¹´é©¬åˆ°æˆåŠŸï¼ ğŸâœ¨
</div>

<div class="container" id="content">
  <h1>ğŸ æ–°å¹´æƒŠå–œ</h1>
  <div class="message">
    <p>äº²çˆ±çš„æœ‹å‹ä»¬ï¼š</p>
    <p>æ„¿æ–°çš„ä¸€å¹´ï¼Œ<br>è¢«æ¸©æŸ”ä»¥å¾…ï¼Œæ‰€è¡Œçš†å¦é€”ã€‚</p>
    <p style="margin-top:20px;">ğŸ’– æ–°å¹´å¿«ä¹ ğŸ’–</p>
  </div>
  <div class="photo">
    <img src="photo.png" alt="æ–°å¹´ç…§ç‰‡">
  </div>
  <div class="footer">å½“çƒŸèŠ±æ•£å°½ï¼Œæ¸©æŸ”ä»åœ¨ âœ¨</div>
</div>

<audio id="bgm" src="bgm.mp3" preload="auto" muted loop></audio>

<script>
// ===== çƒŸèŠ±ç³»ç»Ÿ =====
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
function resize(){ canvas.width=innerWidth*devicePixelRatio; canvas.height=innerHeight*devicePixelRatio; ctx.scale(devicePixelRatio,devicePixelRatio);}
resize();
window.addEventListener("resize",resize);

let particles=[];
function rand(a,b){return Math.random()*(b-a)+a;}
function createFirework(){ // éšæœºçƒŸèŠ±
  const x=rand(0,innerWidth), y=rand(0,innerHeight*0.7);
  const count=rand(120,200);
  for(let i=0;i<count;i++){
    particles.push({x,y,a:Math.random()*Math.PI*2,s:rand(1.5,6),r:rand(1,3),o:1,d:rand(.008,.016),c:`hsl(${Math.random()*360},100%,60%)`});
  }
}
function loop(){
  ctx.fillStyle="rgba(0,0,0,.2)"; ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{
    p.x+=Math.cos(p.a)*p.s; p.y+=Math.sin(p.a)*p.s; p.o-=p.d;
    if(p.o<=0) particles.splice(i,1);
    else{ctx.globalAlpha=p.o; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill(); ctx.globalAlpha=1;}
  });
  requestAnimationFrame(loop);
}
loop();
let fireworkTimer;

// ===== éŸ³ä¹ + çƒŸèŠ±è§¦å‘ =====
const audio=document.getElementById("bgm");
let started=false;
function startExperience(e){
  if(started) return;
  started=true;
  // æ’­æ”¾éŸ³ä¹
  audio.muted=false;
  audio.play().catch(()=>{});
  // å¼€å¯è‡ªåŠ¨çƒŸèŠ±
  fireworkTimer = setInterval(()=>{createFirework(); if(Math.random()>0.6) createFirework();},450);
  createFirework();
  // æ–‡å­—æ·¡å‡º
  setTimeout(()=>{document.getElementById("blessing").style.opacity=0;},12000);
  // çƒŸèŠ±ç»“æŸ â†’ å±•ç¤ºå†…å®¹
  setTimeout(()=>{
    clearInterval(fireworkTimer);
    canvas.style.display="none";
    document.getElementById("content").classList.add("show");
  },16000);
}

// å¾®ä¿¡ / æ‰‹æœºç‚¹å‡»è§¦å‘
document.addEventListener("touchstart", startExperience, {once:true});
document.addEventListener("click", startExperience, {once:true});
</script>

</body>
</html>
